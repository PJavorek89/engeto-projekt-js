import{a as o}from"./addElement-CODaPZVY.js";const g=r=>{const e=document.getElementById(r),n=document.createElement("div");n.classList.add("filtered-movie-spaceholder"),e==null||e.insertAdjacentElement("afterend",n),e==null||e.addEventListener("change",a=>{n.innerHTML="";const i=a.target.value;E(i,n)})},E=async(r,e)=>{const n="https://api.tvmaze.com/search/shows?q=";let a=[],m=!1,i=document.createTextNode("");const p=o({typeOfElement:"p",classToAdd:"loading-element",whereToAdd:e,isPrepend:!0,idToAdd:"loading-element"});p.innerText="Loading...";const c=o({typeOfElement:"div",classToAdd:"error-element",idToAdd:"error-element"});c.textContent=`Opps, something went wrong 
`;try{const t=await fetch(n+r);if(a=await t.json(),!t.ok)throw new Error(`${t.status}`)}catch(t){m=!0,i=document.createTextNode(t)}finally{e==null||e.removeChild(p)}m?(c.appendChild(i),e==null||e.appendChild(c)):a.forEach(t=>{const{image:v,name:f}=t.show;if(v==null){const l=o({typeOfElement:"div",classToAdd:["filter-movie-envelope","no-image-movie"],whereToAdd:e}),d=document.createTextNode(f);l.appendChild(d);const s=o({typeOfElement:"div",whereToAdd:l});s.textContent="(no image)"}else{const{medium:l}=v,d=o({typeOfElement:"div",classToAdd:"filter-movie-envelope",whereToAdd:e}),s=o({typeOfElement:"img",whereToAdd:d});s.src=l,s.alt=`image for movie ${f}`}})};g("movie-filter");
