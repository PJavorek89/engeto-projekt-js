import{a as o}from"./addElement-CODaPZVY.js";const E=a=>{const e=document.getElementById(a);if(!e){alert(`Not able to create fce addMovieFilter 
Cannot find elemet by id ${a}`);return}const n=document.createElement("div");n.classList.add("filtered-movie-spaceholder"),e==null||e.insertAdjacentElement("afterend",n),e==null||e.addEventListener("change",i=>{n.innerHTML="";const r=i.target.value;u(r,n)})},u=async(a,e)=>{const n="https://api.tvmaze.com/search/shows?q=";let i=[],m=!1,r="";const d=o({typeOfElement:"p",classToAdd:"loading-element",whereToAdd:e,isPrepend:!0,idToAdd:"loading-element"});d.innerText="Loading...";const p=o({typeOfElement:"div",classToAdd:"error-element",idToAdd:"error-element"}),g=`Opps, something went wrong: 
`;try{const t=await fetch(`${n}${a}`);if(i=await t.json(),!t.ok)throw new Error(`HTTP error! status: ${t.status}`)}catch(t){m=!0,r=t instanceof Error?t:"Unknown error",p.textContent=`${g}${r}`}finally{e==null||e.removeChild(d)}m?e==null||e.appendChild(p):i.forEach(t=>{const{image:f,name:v}=t.show;if(f==null){const s=o({typeOfElement:"div",classToAdd:["filter-movie-envelope","no-image-movie"],whereToAdd:e}),c=document.createTextNode(v);s.appendChild(c);const l=o({typeOfElement:"div",whereToAdd:s});l.textContent="(no image)"}else{const{medium:s}=f,c=o({typeOfElement:"div",classToAdd:"filter-movie-envelope",whereToAdd:e}),l=o({typeOfElement:"img",whereToAdd:c});l.src=s,l.alt=`image for movie ${v}`}})};E("movie-filter");
